{{!-- {{!--
<script type='text/javascript'>
  if (check)
    $('#BtnSubmit').hide();
</script> --}}
{{#with course}}
<div class="card col-sm-7">
  <h4 class="card-header">
    {{Name}}
  </h4>
  <div class="card-body">
    {{!-- size ảnh --}}
    <img src="/imgs/Courses/{{CoursesID}}/main.jpg" alt="{{Name}}">
    <p class="card-text mt-3">Price: <span class="text-danger font-weight-bold">{{format_number Price}}</span></p>
    <p class="card-text">
      {{{FullDes}}}
    </p>
    {{!-- khi nào handle cart --}}
    {{#if ../auth}}
    {{!-- gửi tới cart/add khi nhấn + --}}
    <form action="/cart/add" method="POST">
      <div class="row form-group">
        <div class="col-sm-4">
          <div class="input-group">
            <input type="hidden" value="{{CoursesID}}" name="id">
            <div class="input-group-append">
              {{#if../check}}
              {{else}}
              <button class="btn btn-outline-primary" type="submit" id="BtnSubmit">
                <i class="fa fa-plus" aria-hidden="true"></i>
              </button>
              {{/if}}
            </div>
          </div>
        </div>
      </div>
    </form>
    {{/if}}
  </div>
  <div class="card-footer text-muted">
    <small>Last updated: {{LastUpdate}}</small>
  </div>
</div>
{{/with}} --}}

{{#section 'css'}}
<style>
  * {
    margin: 0;
    padding: 0;
  }

  .rate {
    float: left;
    height: 46px;
    padding: 0 10px;
  }

  .rate:not(:checked)>input {
    position: absolute;
    top: -9999px;
  }

  .rate:not(:checked)>label {
    float: right;
    width: 1em;
    overflow: hidden;
    white-space: nowrap;
    cursor: pointer;
    font-size: 30px;
    color: #ccc;
  }

  .rate:not(:checked)>label:before {
    content: '★ ';
  }

  .rate>input:checked~label {
    color: #ffc700;
  }

  .rate:not(:checked)>label:hover,
  .rate:not(:checked)>label:hover~label {
    color: #deb217;
  }

  .rate>input:checked+label:hover,
  .rate>input:checked+label:hover~label,
  .rate>input:checked~label:hover,
  .rate>input:checked~label:hover~label,
  .rate>label:hover~input:checked~label {
    color: #c59b08;
  }
</style>

{{/section}}
<div class="w-100">
  <div class="w-100 d-flex justify-content-between" style="background-color:#00587a;">
    <div class="w-50 mx-auto">
      <div>
      </div>
      <div class="h1 pt-5" style="color: white;">
        {{this.Course.courseName}}
      </div>
      <div class="h4" style="color: white;">
        {{this.Course.tinyDes}}
      </div>
      <div>
        {{#if Rating}}
        <div class="row" style="margin-left:0px; margin-right:5px">
          <h6 class="text-danger" style="margin-top: 1%; margin-right: 1%;"><b>{{T}}</b></h5>
            <span class="stars-container stars-{{Rating}}">★★★★★</span>
            <p class="card-text" style="font-size: 14px; margin-top: 5px; margin-left: 1%; color:darkgray;">
              ({{count}})</p>
        </div>
        {{else}}
        <div class="row" style="margin-left:0px">
          <span class="stars-container stars-0">★★★★★</span>
          <p class="card-text" style="font-size: 14px; margin-top: 5px; margin-left: 1%;  color:darkgray;"> (0)
          </p>
        </div>
        {{/if}}
      </div>
      <div class="h5" style="color:#ffdcb8;">
        Created by: {{this.Course.teacherName}}
      </div>
      <div>
        <i class="fa fa-info-circle" aria-hidden="true"></i>
        Last update: {{this.Course.LastUpdate}}
      </div>
      <div>
        <i class="fa fa-globe" aria-hidden="true"></i>
        Language: English
      </div>
      <div>
        <i class="fa fa-subscript" aria-hidden="true"></i>
        Subtitle:English
      </div>
      <div>
        {{#if this.Course.wishlisted}}
        <form method="POST" action="/courses/detail/{{this.Course.courseID}}/unwishlist">
          <button class="btn btn-outline-primary rounded border" type="submit" style="color: white;">
            Remove from wishlist</button>
          <form action="/cart/add" method="POST">
            <div class="row form-group">
              <div class="col-sm-4">
                <div class="input-group">
                  <input type="hidden" value="{{CoursesID}}" name="id">
                  <div class="input-group-append">
                    {{#if../check}}
                    {{else}}
                    <button class="btn btn-outline-warning rounded" type="submit" id="BtnSubmit">
                      <i class="fa fa-plus" aria-hidden="true"></i>
                      Add to cart
                    </button>
                    {{/if}}
                  </div>
                </div>
              </div>
            </div>
          </form>
        </form>

        {{else}}
        <form method="POST" action="/courses/detail/{{this.Course.courseID}}/addwishlist">
          <button class="btn btn-outline-primary rounded border" type="submit" style="color: white;">
            <i class="fas fa-heart    "></i>
            Add to wishlist</button>
        </form>
        <form action="/cart/add" method="POST">
          <div class="row form-group">
            <div class="col-sm-4">
              <div class="input-group">
                <input type="hidden" value="{{this.Course.courseID}}" name="id">
                <div class="input-group-append">
                  {{#if../check}}
                  {{else}}
                  <button class="btn btn-outline-warning rounded" type="submit" id="BtnSubmit">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    Add to cart
                  </button>
                  {{/if}}
                </div>
              </div>
            </div>
          </div>
        </form>
        {{/if}}
      </div>
    </div>
    <div class="w-25 h-100 mx-auto mt-5">

      <img style=" border-radius: 8px; border: 1px solid darkgrey;"
        src="/imgs/Courses/{{this.Course.courseID}}/main_thumbs.jpg" alt="{{this.Course.courseName}}"
        title="{{this.Course.courseName}}" class="card-img-top">
    </div>
  </div>


  <div class="w-75 mx-auto">
    <div class="w-100 h2">
      Decription
    </div>
    <hr>
    <div class="w-50" style="font-size: small;">
      {{{this.Course.fullDes}}}
    </div>

    <div class="h2">
      Course Content
    </div>
    <hr>
    <div class="accordion mx-auto" id="accordionExample">
      {{#each this.Course.allSection}}
      <div class="card w-100">
        <div class="card-header w-100" id="heading{{CourseSectionID}}" style="background-color: #00587a;">
          <h2 class="mb-0">
            <button class="btn btn-block text-left" type="button" data-toggle="collapse"
              data-target="#collapse{{CourseSectionID}}" style="background-color:#00587a  ;font-size: 12pt;">
              <strong style="color: aliceblue;">
                {{Name}}
              </strong>
            </button>
          </h2>
          <div class="mb-0 text-left" style="font-size: 8pt;color: #e7e7de;">
            Processing: 1/{{allVideo.length}}
          </div>
        </div>

        <div id="collapse{{CourseSectionID}}" class="collapse show " aria-labelledby="heading"
          data-parent="#accordionExample" style="width: 100%;">
          <div class="card-body w-100">
            <ul class="list-group w-100">
              {{#each allVideo}}
              <a href="/course/learn/{{courseID}}/{{videoid}}">
                <li class="list-group-item list-group-item-action">
                  <strong>
                    {{videoIndex}}.
                  </strong>
                  {{videoname}}
                </li>
              </a>
              {{/each}}
              </form>
          </div>
        </div>
      </div>
      {{/each}}
    </div>

    <div class="h2">
      Instruction
    </div>
    <div>
      <div class="h3" style="color: #00587a;">
        <strong>
          {{this.Course.teacherName}}
        </strong>
      </div>
      <div>
        {{this.Course.instructionInfo}}

      </div>
    </div>
    <hr>
    <div class="h2">
      Student feedback
    </div>
    {{!-- get star and feedback --}}
    <div class="input-group mb-3">
      <form method="POST" action="/courses/detail/{{this.Course.courseID}}/addfeedback">
        <input type="text" class="form-control" placeholder="Enter your feedback" aria-label="Recipient's username"
          aria-describedby="basic-addon2" name="feedback">
        <div class="text-right">
          <div class="rate w-100">
            <input type="radio" id="star5" name="rate" value="5" />
            <label for="star5" title="text">5 stars</label>
            <input type="radio" id="star4" name="rate" value="4" />
            <label for="star4" title="text">4 stars</label>
            <input type="radio" id="star3" name="rate" value="3" />
            <label for="star3" title="text">3 stars</label>
            <input type="radio" id="star2" name="rate" value="2" />
            <label for="star2" title="text">2 stars</label>
            <input type="radio" id="star1" name="rate" value="1" />
            <label for="star1" title="text">1 star</label>
          </div>
          <button class="btn btn-outline-info rounded-0 border" type="submit">Send feedback</button>
        </div>
      </form>
    </div>
    {{!-- get star and feedback --}}
    <div>
      {{#each this.Course.feedbacks}}
      <hr>
      <div>
        <strong>
          {{student.name}}
        </strong>
      </div>
      <div>
        {{Content}}
      </div>
      <hr>
      {{/each}}
    </div>
  </div>




</div>
</div>
</div>